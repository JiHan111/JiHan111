package org.javaro.lecture;

public class Money {

		private String sum; 
		private String staff; 
		private Customer customer;
		public Money(String sum) {this.sum= sum;}
		public void setSum(String sum) {this.sum = sum;}
		public String getSum() {return this.sum;}
		public void setStaff(String staff) {this.staff=staff;}
		public String getStaff() {return this.staff;}
		public void setCustomer(Customer customer) {this.customer = customer;}
		public Customer getCustomer() {return this.customer;}
		public String toString() {
		String available;
		if(this.getCustomer()==null) {
			available = "대출가능";
		}else {
			available = "대출자 ="+this.getCustomer().getName();
		}
		return "대출 가능 금액="+this.getSum()+",직원="+this.getStaff()+","+available;
		}
}
package org.javaro.lecture;

public class Customer {
	private String name;
	public Customer() {}
	public String getName() {
		return this.name;
	}
	public void setName(String name) {
		this.name = name;
	}
	public String toString() {
		return "학생이름="+this.getName();
	}
	
}
package org.javaro.lecture;

import java.util.*;

public class Bank {
	public String storeName; 
	public ArrayList<Money>moneys; 
	public ArrayList<Customer>customers;
	public Bank(String storeName) {
		this.storeName = storeName; 
		moneys = new ArrayList<Money>(); 
		customers = new ArrayList<Customer>();
	}
	public String getStoreName() {
		return this.storeName;}
	public ArrayList<Money>getMoneys(){
		return this.moneys;}
	public ArrayList<Customer>getCustomers(){
		return this.customers;}
	public void addMoney(Money money) {
		this.moneys.add(money);}
	public void removeMoney(Money money) {
		this.moneys.remove(money);
	}
	public void addCustomer(Customer customer) {
		this.customers.add(customer);
	}
	public void removeCustomer(Customer customer) {
		this.customers.remove(customer);
	}
	public boolean checkOut(Money money, Customer customer) {
		if(money.getCustomer()==null)
		{
			money.setCustomer(customer);
			return true;
		}else {
			return false;
		}
	}
	public boolean checkIn(Money money) {
		if(money.getCustomer()!=null) {
			money.setCustomer(null);
			return true;
		}else {
			return false;
		}
	}
	public ArrayList<Money>getMoneysForCustomer(Customer customer){
		ArrayList<Money>result = new ArrayList<Money>();
		for(Money aMoney : this.getMoneys()){
			if((aMoney.getCustomer()!=null)&&(aMoney.getCustomer().getName().equals(customer.getName()))) {
				result.add(aMoney);
			}
		}
		return result;
	}
	public ArrayList<Money>getAvailableMoneys(){
		ArrayList<Money>result = new ArrayList<Money>();
		for(Money aMoney:this.getMoneys()) {
			if(aMoney.getCustomer()==null) {
				result.add(aMoney);
			}
		}
		return result;
		}
	public ArrayList<Money> getUnavailableMoneys(){
		   ArrayList<Money> result=new ArrayList<Money>();
		   for(Money aMoney : this.getMoneys()){
		    if(aMoney.getCustomer() !=null)  {
		     result.add(aMoney);
		    }
		   }
		   return result;
		  }
		  public String toString(){
		    return this.getStoreName()+"의 대출가능 금액="+
		     this.getMoneys().size()+"억원,고객="+
		     this.getCustomers().size()+"명";
		  }
		  public void printStatus(){
			    System.out.println("--- 은행 현황 ---\n" + this.toString());
			    for(Money aMoney : this.getMoneys()){
			     System.out.println(aMoney.toString());
			     //System.out. println(aBook.toString());
			    }
			    for(Customer customer : this.getCustomers()){
			     int count=this.getMoneysForCustomer(customer).size();
			     System.out.println(customer+"은/는"+ count +"억원 대출중");
			    }
			    System.out.println("은행에서 대출 가능 금액: " + this.getAvailableMoneys().size()+"억");
			    System.out.println("--- 리포트 종료 ---");
			   }
			  

}

